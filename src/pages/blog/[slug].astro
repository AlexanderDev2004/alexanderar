---
import { getCollection } from "astro:content";
import { FaArrowLeft } from "react-icons/fa";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
  const allblogs = [
    ...(await getCollection("blog")),
  ];

  return allblogs.map((blog) => ({
    params: { slug: blog.id },
    props: { blog },
  }));
}

const { blog } = Astro.props;

if (!blog) {
  throw new Error("Blog not found");
}

const { title, description,date,type,tags,slug } = blog.data;
---

<Layout>
  <head>
    <title>{title} - Blogs </title>
  </head>
  <body class="bg-gray-900 text-white">
    <main class="container mx-auto px-4 py-12">
      <!-- Back Button -->
      <a
        href="/blog"
        class="text-blue-500 font-semibold flex items-center gap-2 hover:text-blue-300"
      >
        <FaArrowLeft className="text-lg" />
        Back 
      </a>

      <h1 class="text-4xl font-bold text-blue-300 mt-6">{title}</h1>
      <p class="text-gray-400 mt-2">description : {description}</p>
      <p class="text-gray-400 mt-2">Date: {date}</p>
      <p class="text-gray-400 mt-2">Type: {type}</p>
      <p class="text-gray-400 mt-2">Tags: {tags}</p>

      <div class="mt-8 prose prose-invert">
        {blog.body}
      </div>

</Layout>